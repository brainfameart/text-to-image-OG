<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Google verification -->
    <meta name="google-site-verification" content="DBXshluUyBaJFAcD3xLp0GLFyQuxArI4HYrlGKar5g4" />

    <!-- NOTE: Keep your existing Google verification meta here -->

    <!-- SEO: Primary Metadata -->
    <title>LUMINA | Free text to image generator/ 100% free </title>
    <meta name="description" content="Lumina is a free cinematic AI text-to-image generator created by Ethan Anyam. Turn text prompts into high-quality, professional digital art instantly.">
    <meta name="keywords" content="AI image generator, text to image, text2image, free text to image,100% free text to image,Ethan Anyam, AI art, cinematic AI, free image generator, pollination API, digital art tool, Ai image,100% free image generator">
    <meta name="author" content="Ethan Anyam">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="LUMINA | AI Image Generator /free text to image by Ethan Anyam">
    <meta property="og:description" content="Create cinematic, high-resolution AI art from text prompts 100% free. Built by Ethan Anyam.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://placehold.co/1200x630/0A0A0A/FFD700?text=LUMINA+AI+BY+ETHAN+ANYAM">
    <!-- NOTE: Added Open Graph URL for social previews -->
    <meta property="og:url" content="https://lumina-image-ai.vercel.app/
">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="LUMINA | AI Image Generator /free text to image by Ethan Anyam">
    <meta name="twitter:description" content="Create cinematic, high-resolution AI art from text prompts 100% free. Built by Ethan Anyam.">
    <meta name="twitter:image" content="https://placehold.co/1200x630/0A0A0A/FFD700?text=LUMINA+AI+BY+ETHAN+ANYAM">
    <!-- NOTE: Twitter and LinkedIn sharing support -->

    <!-- Base64 Embedded Favicon (Gold Hexagon Chip) -->
    <link rel="icon" type="image/png" href="Favicon">

    <!-- Sitemap -->
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
    <!-- NOTE: Added sitemap link for Google indexing -->

    <!-- Structured Data (JSON-LD) for Google Rich Snippets -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "LUMINA Cinematic AI",
      "url": "https://lumina-image-ai.vercel.app/
",
      "description": "A web tool that generates images from text prompts using AI.",
      "applicationCategory": "DesignApplication",
      "operatingSystem": "All",
      "author": {
        "@type": "Person",
        "name": "Ethan Anyam"
      },
      "creator": {
        "@type": "Person",
        "name": "Ethan Anyam"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>

    <!-- Robots: confirm full Google access -->
    <meta name="robots" content="index, follow">
    <!-- NOTE: Ensures Google can crawl the site fully -->
    <script src="https://pl28335087.effectivegatecpm.com/a7/a0/7f/a7a07fd85f59b8261f1cdba0bea7c802.js"></script>

</head>

    </script>


    <!-- UI Dependencies (Tailwind & Fonts) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">


    <style>
        :root {
            --neon-gold: #FFD700;
            --neon-blue: #00f3ff;
            --deep-bg: #050505;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }


        body {
            background-color: var(--deep-bg);
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(0, 243, 255, 0.08) 0%, transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(255, 215, 0, 0.05) 0%, transparent 25%);
            color: #ffffff;
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
        }


        h1, h2, .brand-font {
            font-family: 'Cinzel', serif;
        }


        /* Film Grain Overlay */
        .film-grain {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 9999; opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }


        /* Expensive Glassmorphism Card */
        .glass-panel {
            background: var(--glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            transition: transform 0.5s ease-out, box-shadow 0.5s ease; 
            transform: perspective(1000px) rotateX(0deg) rotateY(0deg); 
        }


        .glass-panel:hover {
            transform: perspective(1000px) rotateX(1deg) rotateY(1deg);
            box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.5), 0 0 30px var(--neon-blue); 
        }


        /* Glowing Button Animation */
        .btn-glow {
            position: relative; overflow: hidden; transition: all 0.4s ease;
            background: linear-gradient(45deg, transparent 5%, var(--neon-gold) 5%);
            color: #000; box-shadow: 6px 0px 0px #00e5ff;
        }


        .btn-glow:hover {
            box-shadow: 10px 0px 0px #00e5ff; 
            transform: scale(1.02);
            text-shadow: 0px 0px 5px rgba(255,255,255,0.5);
        }
        
        .btn-glow::after {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: 0.5s;
        }
        
        .btn-glow:hover::after { left: 100%; }


        /* Input Field Styling */
        .cinematic-input {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid #333;
            transition: all 0.3s ease;
            color: #e0e0e0;
        }
        .cinematic-input:focus {
            border-color: var(--neon-blue);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
            outline: none;
        }


        /* Style Chips & Tooltips */
        .style-chip {
            transition: all 0.3s ease;
            border: 1px solid transparent;
            position: relative;
        }
        .style-chip:hover {
            border-color: var(--neon-gold);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 215, 0, 0.2);
        }
        .style-chip.selected {
            background: linear-gradient(135deg, rgba(255,215,0,0.2), rgba(0,0,0,0));
            border-color: var(--neon-gold);
            color: var(--neon-gold);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
        }
        /* Tooltip style */
        .style-chip::after {
            content: attr(data-description);
            position: absolute; top: -40px; left: 50%; transform: translateX(-50%);
            background: #111; border: 1px solid var(--neon-gold); color: #fff;
            padding: 5px 10px; border-radius: 4px; font-size: 0.6rem;
            white-space: nowrap; opacity: 0; pointer-events: none;
            transition: opacity 0.3s ease; z-index: 10;
        }
        .style-chip:hover::after { opacity: 1; }


        /* --- INTRO OVERLAY --- */
        #intro-overlay {
            z-index: 100; background: #000;
            transition: opacity 1.5s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .intro-text-anim {
            animation: textFocus 1.5s cubic-bezier(0.550, 0.085, 0.680, 0.530) both;
        }
        @keyframes textFocus {
            0% { filter: blur(12px); opacity: 0; }
            100% { filter: blur(0px); opacity: 1; }
        }
        .scanner-line {
            width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon-blue), transparent);
            position: absolute; top: 50%; left: 0;
            animation: scan 2s infinite ease-in-out; opacity: 0.5;
        }
        @keyframes scan {
            0%, 100% { transform: scaleX(0); opacity: 0; }
            50% { transform: scaleX(1); opacity: 1; }
        }


        /* --- GENERATION LOADING OVERLAY --- */
        #loading-overlay {
            backdrop-filter: blur(20px); background: rgba(0,0,0,0.85); z-index: 50;
        }
        .loader-ring {
            width: 150px; height: 150px; border-radius: 50%; border: 3px solid transparent;
            border-top-color: var(--neon-gold); border-bottom-color: var(--neon-blue);
            animation: spin 1.5s linear infinite;
        }
        .loader-ring::before {
            content: ""; position: absolute; top: 10px; right: 10px; bottom: 10px; left: 10px;
            border-radius: 50%; border: 3px solid transparent;
            border-top-color: var(--neon-blue); border-bottom-color: var(--neon-gold);
            animation: spin 3s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }


        /* Background & Utils */
        .bg-mesh {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px; z-index: -1;
            mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
        }
        .glitch-hover:hover {
            animation: glitch 0.3s cubic-bezier(.25, .46, .45, .94) both infinite;
            color: var(--neon-blue);
        }
        @keyframes glitch {
            0% { transform: translate(0) } 20% { transform: translate(-2px, 2px) }
            40% { transform: translate(-2px, -2px) } 60% { transform: translate(2px, 2px) }
            80% { transform: translate(2px, -2px) } 100% { transform: translate(0) }
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--neon-gold); }
    </style>
</head>
<body class="antialiased overflow-hidden" id="body-el">


    <!-- Film Grain Texture -->
    <div class="film-grain" aria-hidden="true"></div>


    <!-- Background Grid -->
    <div class="bg-mesh" aria-hidden="true"></div>


    <!-- INITIAL 5-SECOND INTRO SCREEN -->
    <!-- Accessible Role: Alert for important status updates -->
    <div id="intro-overlay" class="fixed inset-0 flex flex-col items-center justify-center" role="alert" aria-live="assertive">
        <div class="relative w-full max-w-2xl text-center px-4">
            <div class="scanner-line"></div>
            
            <div class="space-y-6">
                <p class="text-neon-blue font-mono text-xs tracking-[0.5em] animate-pulse">SYSTEM BOOT SEQUENCE</p>
                <div class="text-4xl md:text-6xl text-white font-bold brand-font intro-text-anim tracking-wider">
                    WELCOME TO <span class="text-yellow-500">LUMINA</span>
                </div>
                <p class="text-gray-500 font-mono text-xs mt-4">AI ARCHITECTURE INITIALIZING...</p>
            </div>


            <div class="mt-12 w-64 mx-auto h-[2px] bg-gray-900 relative overflow-hidden">
                <div id="intro-bar" class="absolute top-0 left-0 h-full bg-neon-blue w-0 transition-all ease-linear" style="transition-duration: 5000ms;"></div>
            </div>
            
            <div class="mt-4 font-mono text-xs text-gray-600" id="countdown-text">EST. TIME: 5s</div>
        </div>
    </div>


    <!-- GENERATION Loading Screen Overlay (Hidden initially) -->
    <div id="loading-overlay" class="fixed inset-0 hidden flex flex-col items-center justify-center transition-opacity duration-500" role="status" aria-live="polite">
        <div class="relative flex items-center justify-center">
            <div class="loader-ring"></div>
            <div class="absolute text-xl brand-font tracking-widest text-white animate-pulse">LUMINA</div>
        </div>
        <div class="mt-8 text-center space-y-2">
            <p id="loading-text" class="text-neon-blue font-mono text-sm tracking-widest">INITIALIZING NEURAL LINK...</p>
            <div class="w-64 h-1 bg-gray-800 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full bg-gradient-to-r from-blue-500 via-yellow-400 to-blue-500 w-0 transition-all duration-300"></div>
            </div>
        </div>
    </div>


    <!-- Main Navigation Header -->
    <header>
        <nav class="w-full p-6 flex justify-between items-center z-40 relative opacity-0" id="main-nav" aria-label="Main Navigation">
            <div class="flex items-center gap-4">
                <!-- Animated Logo Cube -->
                <div class="w-10 h-10 border border-yellow-500 rotate-45 flex items-center justify-center animate-[pulse_3s_infinite]" aria-hidden="true">
                    <div class="w-6 h-6 bg-yellow-500/20 rotate-[-45deg]"></div>
                </div>
                <h1 class="text-3xl font-bold tracking-[0.2em] glitch-hover cursor-default">LUMINA</h1>
            </div>
            <div class="hidden md:flex gap-6 text-sm text-gray-400 font-mono">
                <span>SYS.VER.2.0</span>
                <span class="text-yellow-500">ONLINE</span>
            </div>
        </nav>
    </header>


    <!-- Main Content Area -->
    <main class="container mx-auto px-4 py-8 relative z-10 flex flex-col lg:flex-row gap-8 items-start opacity-0" id="main-content">
        
        <!-- Left Panel: Input Controls -->
        <section class="w-full lg:w-1/3 space-y-6" aria-labelledby="input-heading">
            <div class="glass-panel p-8 rounded-xl relative overflow-hidden group">
                <div class="absolute top-0 left-0 w-1 h-full bg-yellow-500 opacity-50"></div>
                
                <h2 id="input-heading" class="text-xl mb-6 flex items-center gap-3 text-gray-200">
                    <i class="fas fa-terminal text-yellow-500 text-xs" aria-hidden="true"></i> 
                    COMMAND INPUT
                </h2>


                <!-- Prompt Input -->
                <div class="mb-6 relative">
                    <label for="prompt-input" class="text-xs text-gray-500 mb-2 block font-mono">PROMPT SEQUENCE</label>
                    <textarea id="prompt-input" rows="4" 
                        class="cinematic-input w-full rounded-lg p-4 text-sm resize-none"
                        placeholder="Describe your vision in detail... (e.g., A futuristic cyberpunk city with neon rain, 8k resolution, cinematic lighting)"></textarea>
                    <button class="absolute bottom-3 right-3 text-gray-600 text-xs cursor-pointer hover:text-white transition-colors" onclick="clearInput()" aria-label="Clear input">
                        <i class="fas fa-times"></i>
                    </button>
                </div>


                <!-- Style Selector -->
                <div class="mb-8">
                    <label class="text-xs text-gray-500 mb-3 block font-mono">RENDER STYLE</label>
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-48 overflow-y-auto pr-2 custom-scroll" id="style-container" role="group" aria-label="Select an art style">
                        <!-- Styles injected via JS -->
                    </div>
                </div>


                <!-- Control Buttons -->
                <div class="space-y-4">
                    <button onclick="generateImage()" class="btn-glow w-full py-4 font-bold tracking-widest uppercase text-sm" aria-label="Generate Image">
                        <i class="fas fa-bolt mr-2" aria-hidden="true"></i> Initialise Render
                    </button>
                    
                    <button onclick="randomPrompt()" class="w-full py-3 border border-gray-700 hover:border-yellow-500 text-gray-400 hover:text-yellow-500 transition-all duration-300 rounded font-mono text-xs uppercase tracking-wider flex items-center justify-center gap-2 group" aria-label="Generate Random Prompt">
                        <i class="fas fa-dice group-hover:rotate-180 transition-transform duration-500" aria-hidden="true"></i> Randomize Parameters
                    </button>
                </div>
            </div>


            <!-- Stats / Info Panel -->
            <div class="glass-panel p-6 rounded-xl flex justify-between items-center text-xs font-mono text-gray-500">
                <div>
                    <span class="block text-gray-300 mb-1">MODEL</span>
                    <span class="text-neon-blue">FLUX-PRO</span>
                </div>
                <div class="text-right">
                    <span class="block text-gray-300 mb-1">RESOLUTION</span>
                    <span class="text-neon-gold">1280x720 (HD)</span>
                </div>
            </div>
        </section>


        <!-- Right Panel: Output Display -->
        <section class="w-full lg:w-2/3" aria-labelledby="output-heading">
            <h2 id="output-heading" class="sr-only">Generated Image Output</h2>
            <div class="glass-panel p-2 rounded-xl border-t border-white/10 min-h-[400px] lg:min-h-[600px] flex flex-col relative">
                
                <!-- Frame Header -->
                <div class="flex justify-between items-center p-4 border-b border-white/5 bg-black/20 rounded-t-lg">
                    <div class="flex gap-2" aria-hidden="true">
                        <div class="w-3 h-3 rounded-full bg-red-500/50"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500/50"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500/50"></div>
                    </div>
                    <div class="text-xs font-mono text-gray-500" id="output-status" aria-live="polite">WAITING FOR INPUT...</div>
                    <div class="text-xs text-gray-600"><i class="fas fa-camera" aria-hidden="true"></i></div>
                </div>


                <!-- Image Canvas Area -->
                <div class="flex-grow flex items-center justify-center bg-black/40 relative overflow-hidden group p-1">
                    <!-- Placeholder / Empty State -->
                    <div id="empty-state" class="text-center">
                        <i class="fas fa-cube text-4xl text-gray-800 mb-4 animate-pulse" aria-hidden="true"></i>
                        <p class="text-gray-700 font-mono text-sm">RENDER QUEUE EMPTY</p>
                    </div>


                    <!-- The Image: Alt text updated dynamically for accessibility -->
                    <img id="generated-image" class="w-full h-auto shadow-2xl opacity-0 transition-opacity duration-1000 hidden rounded" alt="Generated AI artwork will appear here">
                    
                    <!-- Hover Actions Overlay -->
                    <div id="image-actions" class="absolute bottom-0 left-0 w-full p-6 bg-gradient-to-t from-black via-black/80 to-transparent translate-y-full group-hover:translate-y-0 transition-transform duration-300 flex justify-between items-end">
                        <div class="text-left">
                            <div class="text-white font-bold text-lg brand-font tracking-wide mb-1">GENERATED ARTIFACT</div>
                            <p class="text-xs text-gray-400 font-mono" id="image-meta">SEED: ---</p>
                        </div>
                        <button onclick="downloadImage()" class="bg-white text-black hover:bg-neon-gold hover:text-black px-6 py-2 rounded-full text-sm font-bold transition-colors" aria-label="Download generated image">
                            <i class="fas fa-download mr-2" aria-hidden="true"></i> SAVE FILE
                        </button>
                    </div>
                </div>
            </div>
        </section>


    </main>


    <!-- Footer -->
    <footer class="text-center py-8 text-gray-600 text-xs font-mono relative z-10 opacity-0" id="footer">
        <p>POWERED BY POLLINATIONS.AI // CREATED BY ETHAN ANYAM</p>
        <p class="mt-2 text-[10px] opacity-50">High-Fidelity AI Text-to-Image Generation Tool</p>
    </footer>


    <script>
        // Intro Sequence Logic
        window.addEventListener('load', () => {
            const introBar = document.getElementById('intro-bar');
            const introOverlay = document.getElementById('intro-overlay');
            const countdownText = document.getElementById('countdown-text');
            const mainNav = document.getElementById('main-nav');
            const mainContent = document.getElementById('main-content');
            const footer = document.getElementById('footer');
            const bodyEl = document.getElementById('body-el');


            // Start Progress Bar Animation
            setTimeout(() => {
                introBar.style.width = '100%';
            }, 100);


            // Countdown Logic
            let seconds = 5;
            const timer = setInterval(() => {
                seconds--;
                if(seconds >= 0) {
                    countdownText.innerText = `EST. TIME: ${seconds}s`;
                } else {
                    countdownText.innerText = `SYSTEM READY`;
                    clearInterval(timer);
                }
            }, 1000);


            // Reveal App after 5 seconds
            setTimeout(() => {
                introOverlay.style.opacity = '0';
                
                bodyEl.classList.remove('overflow-hidden');


                setTimeout(() => {
                    // Important for Accessibility: Hide intro from screen readers once done
                    introOverlay.style.display = 'none';
                    introOverlay.setAttribute('aria-hidden', 'true');
                    
                    mainNav.style.transition = 'opacity 1s ease';
                    mainContent.style.transition = 'opacity 1s ease';
                    footer.style.transition = 'opacity 1s ease';
                    
                    mainNav.style.opacity = '1';
                    mainContent.style.opacity = '1';
                    footer.style.opacity = '1';
                }, 1000);
            }, 5000);
        });


        // --- Core App Logic ---


        const stylesData = [
            { name: "Cinematic", desc: "Wide aspect ratio, deep color grading, epic scale." },
            { name: "Cyberpunk", desc: "Neon lights, gritty realism, futuristic cityscapes." },
            { name: "Hyperrealistic", desc: "Extreme detail, photorealistic textures, lifelike." },
            { name: "Anime", desc: "Hand-drawn aesthetics, vibrant colors, expressive lines." },
            { name: "Oil Painting", desc: "Rich brushstrokes, deep color contrast, classical feel." },
            { name: "Noir", desc: "High contrast, shadows, dramatic lighting, moody tone." },
            { name: "Vaporwave", desc: "Pastel colors, 80s aesthetics, digital relics, statues." },
            { name: "Steampunk", desc: "Victorian fashion, brass mechanisms, steam power." },
            { name: "Fantasy", desc: "Mythical creatures, high adventure, ethereal light." },
            { name: "3D Render", desc: "Smooth surfaces, perfect geometry, software look." },
            { name: "Studio Ghibli", desc: "Whimsical, nature-focused, soft colors, warm light." },
            { name: "Polaroid", desc: "Vignette effect, faded color, vintage snapshot." },
            { name: "Retro Sci-Fi", desc: "Pulp magazine covers, chunky tech, saturated colors." },
            { name: "Concept Art", desc: "Loose brushwork, focus on design, matte finish." },
            { name: "Watercolor", desc: "Transparent washes, soft edges, flow and blending." },
            { name: "Mosaic", desc: "Tessellation, fragmented image, ancient art form." },
            { name: "Unreal Engine 5", desc: "Ray tracing, detailed environments, game engine quality." },
            { name: "Dark Fantasy", desc: "Grim atmosphere, muted colors, epic despair." },
            { name: "Synthwave", desc: "Grid landscapes, sunset hues, electric energy." },
            { name: "Abstract", desc: "Non-representational, focus on shape and color." }
        ];


        let selectedStyle = "Cinematic";
        
        const styleContainer = document.getElementById('style-container');
        const promptInput = document.getElementById('prompt-input');
        const loadingOverlay = document.getElementById('loading-overlay');
        const loadingText = document.getElementById('loading-text');
        const progressBar = document.getElementById('progress-bar');
        const generatedImage = document.getElementById('generated-image');
        const emptyState = document.getElementById('empty-state');
        const outputStatus = document.getElementById('output-status');
        const imageActions = document.getElementById('image-actions');
        const imageMeta = document.getElementById('image-meta');


        function initStyles() {
            stylesData.forEach(s => {
                const btn = document.createElement('button');
                btn.className = `style-chip px-3 py-2 rounded text-xs text-left text-gray-400 bg-gray-900/50 ${s.name === selectedStyle ? 'selected' : ''}`;
                btn.innerText = s.name;
                btn.setAttribute('data-description', s.desc);
                // Accessibility
                btn.setAttribute('aria-label', `Select style: ${s.name}`);
                btn.onclick = () => selectStyle(s.name, btn);
                styleContainer.appendChild(btn);
            });
        }


        function selectStyle(styleName, btnElement) {
            selectedStyle = styleName;
            document.querySelectorAll('.style-chip').forEach(b => b.classList.remove('selected'));
            btnElement.classList.add('selected');
        }


        const loadingMessages = [
            "ESTABLISHING SECURE CONNECTION...",
            "PARSING SEMANTIC TOKENS...",
            "CONFIGURING FLUX MATRIX...",
            "APPLYING CINEMATIC GRADIENTS...",
            "RENDERING FINAL PIXELS...",
            "FINALIZING ARTIFACT..."
        ];


        async function animateLoading() {
            loadingOverlay.classList.remove('hidden');
            loadingOverlay.classList.add('flex');
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.floor(Math.random() * 5) + 1;
                if(progress > 100) progress = 100;
                
                progressBar.style.width = `${progress}%`;
                
                const msgIndex = Math.floor((progress / 100) * loadingMessages.length);
                if(msgIndex < loadingMessages.length) {
                    loadingText.innerText = loadingMessages[msgIndex];
                }


                if(progress === 100) clearInterval(interval);
            }, 100);
        }


        function generateImage() {
            const prompt = promptInput.value.trim();
            if (!prompt) {
                outputStatus.innerHTML = `<span class="text-red-500 font-bold">ERROR: PROMPT REQUIRED</span>`;
                return;
            }


            animateLoading();


            const seed = Math.floor(Math.random() * 1000000);
            const finalPrompt = encodeURIComponent(`${prompt}, ${selectedStyle} style, highly detailed, masterpiece, 8k, cinematic lighting, dramatic volumetric fog`);
            const width = 1280;
            const height = 720;
            
            const imageUrl = `https://image.pollinations.ai/prompt/${finalPrompt}?width=${width}&height=${height}&seed=${seed}&nologo=true&model=flux`;


            const img = new Image();
            img.onload = () => {
                setTimeout(() => {
                    loadingOverlay.classList.add('opacity-0');
                    setTimeout(() => {
                        loadingOverlay.classList.add('hidden');
                        loadingOverlay.classList.remove('flex', 'opacity-0');
                        progressBar.style.width = '0%';
                        
                        emptyState.classList.add('hidden');
                        generatedImage.src = imageUrl;
                        
                        // SEO/Accessibility: Set dynamic alt text based on user prompt
                        generatedImage.alt = `AI generated image: ${prompt} in ${selectedStyle} style`;
                        
                        generatedImage.classList.remove('hidden');
                        
                        setTimeout(() => generatedImage.classList.remove('opacity-0'), 50);
                        
                        outputStatus.innerHTML = `<span class="text-green-400">RENDER COMPLETE</span>`;
                        imageMeta.innerText = `SEED: ${seed} // STYLE: ${selectedStyle.toUpperCase()}`;
                        
                        imageActions.classList.remove('translate-y-full');
                    }, 500);
                }, 2000); 
            };
            
            img.onerror = () => {
                loadingOverlay.classList.add('hidden');
                outputStatus.innerHTML = `<span class="text-red-500 font-bold">RENDER FAILED: CONNECTION INTERRUPTED</span>`;
            };


            img.src = imageUrl;
        }


        function randomPrompt() {
            const prompts = [
                "A futuristic neon city floating in clouds, viewed from a broken window",
                "A golden mechanical dragon resting on a mountain of diamonds, high-angle shot",
                "Cyberpunk street samurai in rain, reflection in a wet puddle",
                "Astronaut exploring a bioluminescent jungle planet, wide vista shot",
                "A vintage car flying over a retro-future Paris, dramatic sunset",
                "Crystal palace interior with volumetric lighting, shallow depth of field",
                "A portrait of a cyborg queen in renaissance style, soft studio lighting"
            ];
            const rand = prompts[Math.floor(Math.random() * prompts.length)];
            promptInput.value = rand;
            
            promptInput.style.backgroundColor = "#333";
            setTimeout(() => promptInput.style.backgroundColor = "rgba(0, 0, 0, 0.6)", 200);
        }


        function clearInput() {
            promptInput.value = '';
            promptInput.focus();
        }


        async function downloadImage() {
            const img = document.getElementById('generated-image');
            if (!img.src) {
                outputStatus.innerHTML = `<span class="text-yellow-500 font-bold">WAITING FOR IMAGE TO DOWNLOAD</span>`;
                return;
            }


            try {
                const response = await fetch(img.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = `Lumina_Render_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
                
                outputStatus.innerHTML = `<span class="text-green-400">DOWNLOAD INITIATED</span>`;
            } catch (err) {
                const a = document.createElement('a');
                a.href = img.src;
                a.download = 'Lumina_Render.jpg';
                a.target = "_blank";
                a.click();
                outputStatus.innerHTML = `<span class="text-yellow-500">DOWNLOAD FALLBACK ACTIVATED</span>`;
            }
        }


        initStyles();
    </script>
</body>
</html>






